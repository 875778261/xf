{"version":3,"sources":["router/menu.js","components/nav.jsx","components/sider.jsx","components/header.jsx","router/protect.jsx","router/route.jsx","components/content.jsx","components/footer.jsx","views/layout.jsx"],"names":["key","icon","AppstoreOutlined","title","children","PieChartOutlined","role","DesktopOutlined","ContainerOutlined","SubMenu","Menu","renderAry","filterByPermission","menus","renderTreeByList","arr","map","item","Icon","Item","to","getOpenKey","ary","temp","forEach","push","Nav1","console","log","this","props","defaultSelectedKeys","location","pathname","selectedKeys","defaultOpenKeys","mode","theme","React","Component","Sider","Layout","Nav11","withRouter","Sider1","state","collapsed","onCollapse","setState","className","collapsible","Header","Header1","MyProtect","includes","Introduce","loadable","loader","loading","Dashboard","Add","Swiper","Route1","path","exact","component","Content","Content1","Footer","Footer1","MyLayout"],"mappings":"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","file":"static/js/Layout.7c2c2aff.chunk.js","sourcesContent":["import {\r\n    AppstoreOutlined,\r\n    MenuUnfoldOutlined,\r\n    MenuFoldOutlined,\r\n    PieChartOutlined,\r\n    DesktopOutlined,\r\n    ContainerOutlined,\r\n    MailOutlined,\r\n} from '@ant-design/icons';\r\nexport default [\r\n    {\r\n        key: \"/\",\r\n        icon: AppstoreOutlined,\r\n        title: 'Dashboard',\r\n        children: [\r\n            {\r\n                key: \"/introduce\",\r\n                icon: PieChartOutlined,\r\n                title: '系统介绍',\r\n                role: ['user', 'admin', 'super']\r\n            },\r\n            {\r\n                key: \"/dashboard\",\r\n                icon: PieChartOutlined,\r\n                title: 'Dashboard',\r\n                role: ['user', 'admin', 'super']\r\n            },\r\n            {\r\n                key: \"/add\",\r\n                icon: PieChartOutlined,\r\n                title: '添加商品',\r\n                role: ['admin', 'super']\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        key: \"homeset\",\r\n        icon: DesktopOutlined,\r\n        title: '首页配置',\r\n        children: [\r\n            {\r\n                key: \"/swiper\",\r\n                icon: ContainerOutlined,\r\n                title: '轮播图设置',\r\n                role: ['user', 'admin', 'super']\r\n            }\r\n        ]\r\n    }\r\n]\r\n/* 之后导给route.jsx渲染 */","import React from 'react';\r\nimport { Menu, Button } from 'antd';\r\nimport {\r\n  AppstoreOutlined,\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n  PieChartOutlined,\r\n  DesktopOutlined,\r\n  ContainerOutlined,\r\n  MailOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport { filterByPermission } from '../utils/util'\r\nimport menus from '../router/menu.js'\r\nimport { Link } from 'react-router-dom';\r\nlet userRole = 'super'//更改用户权限,在protrct中还有个权限\r\nconst { SubMenu } = Menu;\r\n\r\nlet renderAry = filterByPermission(menus, userRole)\r\nfunction renderTreeByList(arr) {\r\n  return arr.map(item => {\r\n    let Icon = item.icon;\r\n    if (item.children)\r\n      return <SubMenu key={item.key} icon={Icon ? <Icon /> : <></>} title={item.title}>\r\n        {renderTreeByList(item.children)}\r\n      </SubMenu>\r\n    else\r\n      return <Menu.Item key={item.key} icon={Icon ? <Icon></Icon> : <></>}>\r\n        <Link to={item.key}>{item.title}</Link>\r\n      </Menu.Item>\r\n\r\n  })\r\n}\r\nfunction getOpenKey(ary) {\r\n  //全部展开\r\n  let temp=[]\r\n  ary.forEach(item=>{\r\n    temp.push(item.key)\r\n  })\r\n  return temp\r\n}\r\nclass Nav1 extends React.Component {\r\n  render() {\r\n    console.log(this.props);\r\n    return <div >\r\n      <Menu\r\n\r\n        defaultSelectedKeys={this.props.location.pathname}//默认选中项高亮\r\n        selectedKeys={this.props.location.pathname}//\r\n        defaultOpenKeys={getOpenKey(renderAry)}\r\n        mode=\"inline\"\r\n        theme=\"dark\"\r\n      >\r\n        {renderTreeByList(renderAry)}\r\n\r\n      </Menu>\r\n    </div>\r\n  }\r\n}\r\nexport default Nav1\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { Layout } from 'antd';\r\nimport Nav1 from './nav';\r\nimport '../css/layout.css'\r\nimport { withRouter } from 'react-router-dom';\r\nconst { Sider } = Layout;\r\nlet Nav11 = withRouter(Nav1)\r\n//高阶组件中的withRouter, 作用是将一个组件包裹进Route里面, 然后react-router的三个对象history, location, match就会被放进这个组件的props属性中.\r\nclass Sider1 extends React.Component {\r\n\r\n    state = {\r\n        collapsed: false,\r\n    };\r\n    /* toggleCollapsed = () => {\r\n        console.log('toggleCollapsed');\r\n        this.setState({\r\n            collapsed: !this.state.collapsed,\r\n        });\r\n    }; */\r\n    onCollapse = collapsed => {\r\n        console.log(collapsed);\r\n        this.setState({ collapsed });\r\n      };\r\n    render() {\r\n        const { collapsed } = this.state;\r\n        return <Sider className='my_sider_box' collapsible\r\n            onCollapse={this.onCollapse}\r\n            collapsed={collapsed}\r\n\r\n        >\r\n            <h1>导航头</h1>\r\n            <Nav11></Nav11>\r\n        </Sider>\r\n    }\r\n}\r\nexport default Sider1","import React from 'react';\r\nimport { Layout } from 'antd';\r\nconst { Header} = Layout;\r\nclass Header1 extends React.Component {\r\n    render() {\r\n        return <Header className='my_header_box'><h1>Header</h1></Header>\r\n    }\r\n}\r\nexport default Header1","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nclass MyProtect extends React.Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n    render() {\r\n        let userRole = 'super'\r\n        let { role } = this.props\r\n        let isLogin = true\r\n        return <div className=''>\r\n            {\r\n                isLogin ?\r\n                        (role.includes(userRole) ?\r\n                        <Route {...this.props}></Route> :\r\n                        <Redirect to='/404'></Redirect>)\r\n                    :\r\n                    <Redirect to='/login'></Redirect>\r\n            }\r\n        </div>\r\n    }\r\n}\r\nexport default MyProtect","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom'\r\nimport { loadable } from '../utils/util'\r\nimport MyProtect from './protect';\r\n\r\nconst Introduce = loadable({\r\n    loader: () => import(/* webpackChunkName:\"Introduce\" */'../views/introduce'),\r\n    loading: function () {\r\n        return <h2>正在加载Introduce</h2>\r\n    }\r\n})\r\nconst Dashboard = loadable({\r\n    loader: () => import(/* webpackChunkName:\"Dashboard\" */'../views/dashboard'),\r\n    loading: function () {\r\n        return <h2>正在加载Dashboard</h2>\r\n    }\r\n})\r\nconst Add = loadable({\r\n    loader: () => import(/* webpackChunkName:\"Add\" */'../views/add.jsx'),\r\n    loading: function () {\r\n        return <h2>正在加载Add</h2>\r\n    }\r\n})\r\nconst Swiper = loadable({\r\n    loader: () => import(/* webpackChunkName:\"Swiper\" */'../views/swiper.jsx'),\r\n    loading: function () {\r\n        return <h2>正在加载Swiper</h2>\r\n    }\r\n})\r\n\r\nclass Route1 extends React.Component {\r\n    render() {\r\n        return <div className='content_box'>\r\n            <Switch>\r\n\r\n                <Redirect path='/' exact to='/introduce'>\r\n                </Redirect>\r\n                <Route path='/introduce' component={Introduce}></Route>\r\n                <Route path='/dashboard' component={Dashboard}></Route>\r\n                {/* <Route path='/add' component={Add}></Route> */}\r\n                <MyProtect path='/add' component={Add} role={['admin','super']}></MyProtect>\r\n                <Route path='/swiper' component={Swiper}></Route>\r\n                <Redirect path='/*' to='/404'>\r\n                </Redirect>\r\n            </Switch>\r\n\r\n        </div>\r\n    }\r\n}\r\nexport default Route1\r\n","import React from 'react';\r\nimport { Layout } from 'antd';\r\nimport Route1 from '../router/route';\r\nconst { Content } = Layout;\r\nclass Content1 extends React.Component {\r\n    render() {\r\n        return <Content >\r\n            <Route1></Route1>\r\n        </Content>\r\n    }\r\n}\r\nexport default Content1","import React from 'react';\r\nimport { Layout } from 'antd';\r\nconst { Footer } = Layout;\r\nclass Footer1 extends React.Component {\r\n    render() {\r\n        return <Footer>myFooter</Footer>\r\n    }\r\n}\r\nexport default Footer1","import React from 'react';\r\nimport { Layout } from 'antd';\r\n\r\n/* import { Content } from 'antd/lib/layout/layout'; */\r\nimport '../css/layout.css'\r\n/* const { Header, Footer, Sider, Content } = Layout; */\r\n\r\nimport Sider1 from '../components/sider';\r\nimport Header1 from '../components/header';\r\nimport Content1 from '../components/content';\r\nimport Route1 from '../router/route';\r\nimport Footer1 from '../components/footer'\r\nconst {Content} = Layout\r\nclass MyLayout extends React.Component {\r\n\r\n  render() {\r\n    return <Layout className='my_layout_box'>\r\n      <Sider1></Sider1>\r\n      <Layout>\r\n        <Header1></Header1>\r\n        <Content1>\r\n        </Content1>\r\n        <Footer1></Footer1>\r\n      </Layout>\r\n    </Layout>\r\n  }\r\n}\r\nexport default MyLayout\r\n\r\n\r\n\r\n"],"sourceRoot":""}